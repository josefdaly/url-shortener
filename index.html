<h1>Url Shortener</h1>
<p>
  Hello, you have arrived at my URL shortener. It's pretty basic at this point.
  The special part about this app is that it utilizes my home-made object-relational
  mapper <a href="https://github.com/josefdaly/active-record-lite">Active Record Lite</a>
  to pull from and save to the database. Check out the whole thing
  <a href="https://github.com/josefdaly/url-shortener">here</a>.
</p>
<h3>Routes</h3>
<p>
  get <strong>lync.space/</strong> will just bring you back here.
</p>
<p>
  get <strong>lync.space/url_index</strong> will give you the contents of the database in JSON
</p>
<p>
  get <strong>lync.space/:path</strong> will redirect you to the website that
  corresponds to the :path if it is in the database.
</p>
<p>
  post <strong>lync.space/new</strong> with params['url'] = 'https://example.com'
  will generate a shortened url and save the pair to the database. The response
  is a JSON of the new row in the database table.
</p>
<input class="url-input" type="text" placeholder="https://www.example.com">
<button type="button" class="submit-url">Create URL</button>
<span class="new-url"></span>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
  $('.submit-url').click(function () {
    var url = $('.url-input').val()
    if (url === "") {
      $('.new-url').html("<span style='color:red'>Must enter a valid URL</span>");
    } else {
      $.ajax({
        url: 'http://www.lync.space/new',
        type: 'POST',
        data: { 'url': url },
        success: function (response) {
          $('.new-url').html("<a href='http://www.lync.space/" +
            response.shortened + "'> lync.space/" + response.shortened + "</a>");
          $('.url-input').val("");
        }.bind(this)
      })
    }
  }.bind(this));
</script>
